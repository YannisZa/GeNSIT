log_level = 'info'
sweep_mode = false

[inputs]
n_workers = +1
n_threads = [+6,+6]
device = 'cpu'
seed = 9876
in_directory = './data/inputs/'
load_experiment = ''
[inputs.dataset.sweep] 
  default = 'synthetic_100x25'
  range = ['synthetic_100x25','synthetic_100x50','synthetic_100x75', 
  'synthetic_500x25','synthetic_500x50','synthetic_500x75', 'synthetic_500x100']

[inputs.data]
  data_generation_seed = 4321
  synthesis_method = 'sde_solver'
  synthesis_n_samples = +100
  [inputs.data.dims]
    time = +1
    [inputs.data.dims.origin.sweep]
      default = +100
      range = [100,100,100,500,500,500,500]
      coupled = true
      target_name = 'dataset'
    [inputs.data.dims.destination.sweep]
      default = +25
      range = [25,50,75,25,50,75,100]
      coupled = true
      target_name = 'dataset'
  [inputs.data.origin_demand]
    distribution = 'normal'
    [inputs.data.origin_demand.parameters]
        mean = 0.1
        std = 0.01
  [inputs.data.destination_attraction_ts]
    distribution = 'normal'
    [inputs.data.destination_attraction_ts.parameters]
        mean = 0.1
        std = 0.01
  [inputs.data.cost_matrix]
    distribution = 'normal'
    [inputs.data.cost_matrix.parameters]
        mean = 1.2
        std = 1.2

[spatial_interaction_model]
  # name = 'ProductionConstrained','TotallyConstrained'
  name = 'TotallyConstrained'
  grand_total = +1
  [spatial_interaction_model.parameters]
    bmax = +10_000.0
    alpha = +1.2
    beta = +0.2
  
[harris_wilson_model]
  dt = +0.001
  [harris_wilson_model.parameters]
    noise_percentage = +0.01
    epsilon = 1.0
    # kappa = 0.5
    # delta = 0
    [harris_wilson_model.parameters.sigma.sweep]
      default = 0.0141421356
      range = [0.0141421356,0.141421356]

[training]
  batch_size = +1
  table_inference = false
  to_learn = []
  [training.num_steps.sweep]
    default = +1_000
    range = [1_000,1_000,1_000,3_000,3_000,3_000,3_000]
    coupled = true
    target_name = 'dataset'


[[experiments]]
  type = 'DataGeneration'
  comment = 'Generates synthetic datasets and store them to file'
  disable_tqdm = false
  print_statements = true
  export_samples = false
  export_metadata = false
  overwrite = true

[outputs]
    write_start = +1
    write_every = +1
    out_directory = './data/outputs/'
    out_group = ''
    title = ''